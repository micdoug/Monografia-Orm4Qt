Neste capítulo são apresentadas algumas bibliotecas ORM presentes no mercado e um trabalho que propôs o desenvolvimento de uma biblioteca ORM para a linguagem C++. O modelo de uso e desenvolvimento destas bibliotecas serviram como inspiração para a construção deste trabalho. E duas das bibliotecas citadas são utilizadas em testes de comparação de usabilidade no capítulo \ref{cap_quinto}.

\section{Um \textit{Framework} de Mapeamento Objeto Relacional com um Exemplo em C++}
\label{sec:zhangXiaobing}

Em seu trabalho intitulado ``Um \textit{Framework} de Mapeamento Objeto Relacional com um Exemplo em C++'', originalmente em inglês, \textit{``A Framework for Object-Relational Mapping With An Example in C++''}, \textit{Zhang Xiaobing} apresenta um modelo para desenvolvimento de uma biblioteca ORM que pode ser utilizado na maioria das linguagens orientadas a objetos. Em seu modelo, ele define padrões a serem utilizados para resolver problemas como mapeamento de classes simples, herança, composição, associação, e ainda define mecanismos de otimização como criação de um cache de objetos resgatados do banco de dados \cite{xiaobingZhang}.

Seu modelo define uma biblioteca ORM que segue o paradigma orientado a aplicação, onde o desenvolvedor ficará responsável por definir toda a parte do código relacionado a criação dos objetos a serem mapeados. Todo objeto a ser mapeado deve herdar de uma classe específica, e o desenvolvedor deve reimplementar determinados métodos de modo a informar para a biblioteca metadados que definem o mapeamento. Devido a esse comportamento dizemos que a biblioteca não é transparente. O modelo ainda define uma arquitetura de desenvolvimento em duas camadas:

\begin{description}
\item[1) Camada de objetos (\textit{\textbf{Object Layer}}):]
Camada responsável por prover uma interface simples para definição de classes a serem mapeadas e seus metadados, além de trafegar dados entre os objetos mapeados e a camada de persistência. Esta camada é a única acessível diretamente pelo desenvolvedor.

\item[2) Camada de persistência (\textit{\textbf{Storage Layer}}):]
Camada responsável por abstrair a comunicação com o SGBD, provendo rotinas de persistência, concorrência, recuperação de erros e execuções de pesquisas no banco de dados. Esta camada não é diretamente acessível pelo desenvolvedor.
\end{description}

O modelo definido pode ser aplicado em diversas linguagens pelo fato de não se aproveitar de recursos específicos de determinadas linguagens, porém devido a isso ele exige um trabalho adicional do desenvolvedor ao reimplementar métodos de diversas interfaces definidas. Em alguns momentos, o desenvolvedor deve explicitamente executar funções de consulta e ajuste de valores de atributos em suas classes trocando informações com o \textit{framework} para permitir a execução de tarefas no banco de dados \cite{xiaobingZhang}. Isso ocorre devido a biblioteca não definir um mecanismo de listagem e acesso às estruturas internas dos objetos mapeados.

Neste trabalho o modelo de Zhang é utilizado como base para a implementação de uma biblioteca ORM para C++, porém com alguns ajustes como a definição de uma interface de anotações para definições de mapeamento, e a capacidade de mapeamento de classes arbitrárias, sem a necessidade de herança de uma classe específica (biblioteca transparente).

\section{QxORM}
\label{sec:qxorm}

QxORM é uma biblioteca ORM de código aberto desenvolvida para ser utilizada em conjunto com o \textit{framework} Qt. Ela utiliza vários módulos deste \textit{framework} como auxílio na execução das tarefas de mapeamento, como por exemplo, o módulo QtSql para realizar interações com os SGBDs. Ela foi criada em 2003 e é mantida pelo engenheiro de \textit{software} Lionel Marty \cite{qxorm}.

Esta biblioteca segue o paradigma orientado a aplicação, e é transparente, ou seja, permite o mapeamento de classes arbitrárias. Para mapear uma classe, o desenvolvedor deve inserir algumas marcações na definição da classe, e implementar um método utilizando funções específicas para registros de informações das classes e atributos a serem mapeados. Portanto, nesta biblioteca também não existe um sistema de anotações \cite{qxorm}.

Esta biblioteca é utilizada durante testes de usabilidade, onde é comparada a sua abordagem de especificação de mapeamento com a interface de anotações criada neste trabalho. Além de testes de usabilidade, também será feita a comparação do processo de configuração do ambiente de desenvolvimento para utilização desta biblioteca com a desenvolvida neste trabalho.

\section{ODB}
\label{sec:ODB}

ODB é uma biblioteca ORM desenvolvida para ser utilizada com a linguagem C++. Também é uma biblioteca de código aberto e é mantida pela empresa ``Code Synthesis'' \cite{objectPersistenceODB}.

Ao contrário da biblioteca QxOrm, a ODB não foi desenvolvida para ser utilizada especificamente em conjunto com um \textit{framework} ou outra biblioteca, mas sim com a linguagem C++ pura. Para ser utilizada em conjunto com o \textit{framework} Qt, por exemplo, a biblioteca disponibiliza um recurso chamado \textit{\textbf{``profile''}}, que atua como uma espécie de \textit{``plugin''} adicional que pode ser acoplado a biblioteca para habilitar seu uso em conjunto \cite{objectPersistenceODB}.

Mesmo quando utilizada com \textit{``profiles''}, a biblioteca utiliza mecanismos próprios para acesso a banco de dados e construção de sentenças em linguagem SQL. As informações de mapeamento são especificadas através do uso de diretivas de pré-processamento \textit{\textbf{``pragma''}}\footnote{Diretiva de pré-processamento que permite ao desenvolvedor passar informações durante a compilação que são específicas de um compilador utilizado.}. Estas informações são analisadas por um compilador disponibilizado em conjunto com a biblioteca, que gera então código em C++ com os comandos para realizar tarefas de persistência \cite{objectPersistenceODB}.

A biblioteca utiliza o paradigma orientado a aplicação com uma abordagem transparente, pois não obriga o desenvolvedor a implementar interfaces ou aplicar herança nas classes a serem mapeadas para o banco de dados. Seu sistema de inserção de metadados é bem parecido com o sistema de anotações, porém estes metadados somente são acessíveis pelo seu compilador externo \cite{objectPersistenceODB}.

Esta biblioteca também é utilizada durante testes de usabilidade e de configuração do ambiente de desenvolvimento no capítulo \ref{cap_quinto}.

\section{Hibernate}
\label{sec:hibernate}

Uma das bibliotecas ORM mais conhecidas atualmente, o Hibernate é uma biblioteca desenvolvida para ser utilizada com a linguagem JAVA. É um projeto de código aberto mantido pela empresa \textbf{Red Hat} \cite{hibernateInAction}.

O Hibernate é uma das bibliotecas ORM mais completas, sendo pioneira na implementação de vários mecanismos de otimização. A biblioteca utiliza um paradigma orientado a aplicação e a inserção de metadados de mapeamento pode ser feita a partir da utilização de arquivos XML, ou a partir da utilização do mecanismo de anotações presente na linguagem JAVA \cite{hibernateInAction}.

A biblioteca é capaz de mapear classes que utilizam mecanismos de herança e composição, além de ter a capacidade de a partir da análise das classes mapeadas e dos metadados, criar o banco de dados equivalente \cite{hibernateInAction}.  

Seu mecanismo de anotações é a inspiração principal do desenvolvimento deste trabalho, pois tal mecanismo traz um nível de facilidade enorme na configuração dos dados de mapeamento, e até então poucas bibliotecas voltadas para a linguagem C++ apresentam algo semelhante.  